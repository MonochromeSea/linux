Run cd linux
  cd linux
  # 编译Binder驱动
  make drivers/android/binder.ko V=1 -j$(nproc)
  shell: /usr/bin/bash -e {0}
make --no-print-directory -C /home/runner/work/linux/linux/linux \
-f /home/runner/work/linux/linux/linux/Makefile drivers/android/binder.ko
make -f ./scripts/Makefile.build obj=arch/x86/entry/syscalls all
make -f ./scripts/Makefile.build obj=scripts/basic
set -e; mkdir -p include/config/; trap "rm -f include/config/.tmp_kernel.release" EXIT; { ./scripts/setlocalversion .; } > include/config/.tmp_kernel.release; if [ ! -r include/config/kernel.release ] || ! cmp -s include/config/kernel.release include/config/.tmp_kernel.release; then : '  UPD     include/config/kernel.release'; mv -f include/config/.tmp_kernel.release include/config/kernel.release; fi
make -f ./scripts/Makefile.asm-headers obj=arch/x86/include/generated/uapi/asm \
generic=include/uapi/asm-generic
set -e; mkdir -p include/generated/uapi/linux/; trap "rm -f include/generated/uapi/linux/.tmp_version.h" EXIT; { 	if [ 0 -gt 255 ]; then echo \#define LINUX_VERSION_CODE 396543; else echo \#define LINUX_VERSION_CODE 396288; fi; echo '#define KERNEL_VERSION(a,b,c) (((a) << 16) + ((b) << 8) + ((c) > 255 ? 255 : (c)))'; echo \#define LINUX_VERSION_MAJOR 6; echo \#define LINUX_VERSION_PATCHLEVEL 12; echo \#define LINUX_VERSION_SUBLEVEL 0; } > include/generated/uapi/linux/.tmp_version.h; if [ ! -r include/generated/uapi/linux/version.h ] || ! cmp -s include/generated/uapi/linux/version.h include/generated/uapi/linux/.tmp_version.h; then : '  UPD     include/generated/uapi/linux/version.h'; mv -f include/generated/uapi/linux/.tmp_version.h include/generated/uapi/linux/version.h; fi
set -e; mkdir -p include/generated/; trap "rm -f include/generated/.tmp_compile.h" EXIT; { ./scripts/mkcompile_h "x86_64" "gcc (Ubuntu 11.4.0-1ubuntu1~22.04.2) 11.4.0" "ld"; } > include/generated/.tmp_compile.h; if [ ! -r include/generated/compile.h ] || ! cmp -s include/generated/compile.h include/generated/.tmp_compile.h; then : '  UPD     include/generated/compile.h'; mv -f include/generated/.tmp_compile.h include/generated/compile.h; fi
./scripts/remove-stale-files
make -f ./scripts/Makefile.build obj=arch/x86/tools relocs
make -f ./scripts/Makefile.build obj=scripts/dtc
make -f ./scripts/Makefile.asm-headers obj=arch/x86/include/generated/asm \
generic=include/asm-generic
mkdir -p ./tools
make -f ./scripts/Makefile.build obj=scripts
make LDFLAGS= MAKEFLAGS=" --jobserver-auth=3,4" O=/home/runner/work/linux/linux/linux subdir=tools -C ./tools/ objtool
make -f ./scripts/Makefile.build obj=scripts/selinux \
need-builtin= \
need-modorder= \
make -f ./scripts/Makefile.build obj=scripts/selinux/genheaders \
need-builtin= \
need-modorder= \
make -f ./scripts/Makefile.build obj=scripts/selinux/mdp \
need-builtin= \
need-modorder= \
mkdir -p /home/runner/work/linux/linux/linux/tools/objtool && make O=/home/runner/work/linux/linux/linux subdir=tools/objtool --no-print-directory -C objtool 
make -C /home/runner/work/linux/linux/linux/tools/build CFLAGS= LDFLAGS= /home/runner/work/linux/linux/linux/tools/objtool/fixdep
make[4]: '/home/runner/work/linux/linux/linux/tools/objtool/fixdep' is up to date.
make -C /home/runner/work/linux/linux/linux/tools/lib/subcmd/ O=/home/runner/work/linux/linux/linux/tools/objtool/libsubcmd \
	DESTDIR=/home/runner/work/linux/linux/linux/tools/objtool/libsubcmd prefix= subdir= \
	CC="gcc" LD="ld" AR="ar" EXTRA_CFLAGS="-Werror -Wbad-function-cast -Wdeclaration-after-statement -Wformat-security -Wformat-y2k -Winit-self -Wmissing-declarations -Wmissing-prototypes -Wnested-externs -Wno-system-headers -Wold-style-definition -Wpacked -Wredundant-decls -Wstrict-prototypes -Wswitch-default -Wswitch-enum -Wundef -Wwrite-strings -Wformat -Wno-type-limits -Wstrict-aliasing=3 -Wshadow -Wno-switch-default -Wno-switch-enum -Wno-packed -Wno-nested-externs -Wall -Wmissing-prototypes -Wstrict-prototypes -O2 -fomit-frame-pointer -std=gnu11   -I ./scripts/include -g -I/home/runner/work/linux/linux/linux/tools/include -I/home/runner/work/linux/linux/linux/tools/arch/x86/include/uapi -I/home/runner/work/linux/linux/linux/tools/arch/x86/include -I/home/runner/work/linux/linux/linux/tools/objtool/include -I/home/runner/work/linux/linux/linux/tools/objtool/arch/x86/include -I/home/runner/work/linux/linux/linux/tools/objtool/libsubcmd/include " \
	/home/runner/work/linux/linux/linux/tools/objtool/libsubcmd/libsubcmd.a install_headers
make -C /home/runner/work/linux/linux/linux/tools/build CFLAGS= LDFLAGS= /home/runner/work/linux/linux/linux/tools/objtool/libsubcmd/fixdep
make[4]: 'install_headers' is up to date.
make[5]: '/home/runner/work/linux/linux/linux/tools/objtool/libsubcmd/fixdep' is up to date.
sh ./sync-check.sh
make -f /home/runner/work/linux/linux/linux/tools/build/Makefile.build dir=. obj=objtool CC="gcc" LD="ld" AR="ar" CFLAGS="-Werror -Wbad-function-cast -Wdeclaration-after-statement -Wformat-security -Wformat-y2k -Winit-self -Wmissing-declarations -Wmissing-prototypes -Wnested-externs -Wno-system-headers -Wold-style-definition -Wpacked -Wredundant-decls -Wstrict-prototypes -Wswitch-default -Wswitch-enum -Wundef -Wwrite-strings -Wformat -Wno-type-limits -Wstrict-aliasing=3 -Wshadow -Wno-switch-default -Wno-switch-enum -Wno-packed -Wno-nested-externs -Wall -Wmissing-prototypes -Wstrict-prototypes -O2 -fomit-frame-pointer -std=gnu11   -I ./scripts/include -g -I/home/runner/work/linux/linux/linux/tools/include -I/home/runner/work/linux/linux/linux/tools/arch/x86/include/uapi -I/home/runner/work/linux/linux/linux/tools/arch/x86/include -I/home/runner/work/linux/linux/linux/tools/objtool/include -I/home/runner/work/linux/linux/linux/tools/objtool/arch/x86/include -I/home/runner/work/linux/linux/linux/tools/objtool/li
	LDFLAGS="-lelf  /home/runner/work/linux/linux/linux/tools/objtool/libsubcmd/libsubcmd.a  "
make -f /home/runner/work/linux/linux/linux/tools/build/Makefile.build dir=./arch/x86 obj=objtool
set -e; mkdir -p include/generated/; trap "rm -f include/generated/.tmp_utsrelease.h" EXIT; { 	if [ `echo -n "6.12.0" | wc -c ` -gt 64 ]; then echo '"6.12.0" exceeds 64 characters' >&2; exit 1; fi; echo \#define UTS_RELEASE \"6.12.0\"; } > include/generated/.tmp_utsrelease.h; if [ ! -r include/generated/utsrelease.h ] || ! cmp -s include/generated/utsrelease.h include/generated/.tmp_utsrelease.h; then : '  UPD     include/generated/utsrelease.h'; mv -f include/generated/.tmp_utsrelease.h include/generated/utsrelease.h; fi
make -f ./scripts/Makefile.build obj=scripts/mod
set -e; mkdir -p scripts/mod/; trap "rm -f scripts/mod/.tmp_devicetable-offsets.h" EXIT; { 	 echo "#ifndef __DEVICETABLE_OFFSETS_H__"; echo "#define __DEVICETABLE_OFFSETS_H__"; echo "/*"; echo " * DO NOT MODIFY."; echo " *"; echo " * This file was generated by Kbuild"; echo " */"; echo ""; sed -ne 	's:^[[:space:]]*\.ascii[[:space:]]*"\(.*\)".*:\1:; /^->/{s:->#\(.*\):/* \1 */:; s:^->\([^ ]*\) [\$#]*\([^ ]*\) \(.*\):#define \1 \2 /* \3 */:; s:->::; p;}' < scripts/mod/devicetable-offsets.s; echo ""; echo "#endif"; } > scripts/mod/.tmp_devicetable-offsets.h; if [ ! -r scripts/mod/devicetable-offsets.h ] || ! cmp -s scripts/mod/devicetable-offsets.h scripts/mod/.tmp_devicetable-offsets.h; then : '  UPD     scripts/mod/devicetable-offsets.h'; mv -f scripts/mod/.tmp_devicetable-offsets.h scripts/mod/devicetable-offsets.h; fi
make -f ./scripts/Makefile.build obj=. prepare
set -e; mkdir -p include/generated/; trap "rm -f include/generated/.tmp_timeconst.h" EXIT; { echo 1000 | bc -q kernel/time/timeconst.bc; } > include/generated/.tmp_timeconst.h; if [ ! -r include/generated/timeconst.h ] || ! cmp -s include/generated/timeconst.h include/generated/.tmp_timeconst.h; then : '  UPD     include/generated/timeconst.h'; mv -f include/generated/.tmp_timeconst.h include/generated/timeconst.h; fi
set -e; mkdir -p include/generated/; trap "rm -f include/generated/.tmp_bounds.h" EXIT; { 	 echo "#ifndef __LINUX_BOUNDS_H__"; echo "#define __LINUX_BOUNDS_H__"; echo "/*"; echo " * DO NOT MODIFY."; echo " *"; echo " * This file was generated by Kbuild"; echo " */"; echo ""; sed -ne 	's:^[[:space:]]*\.ascii[[:space:]]*"\(.*\)".*:\1:; /^->/{s:->#\(.*\):/* \1 */:; s:^->\([^ ]*\) [\$#]*\([^ ]*\) \(.*\):#define \1 \2 /* \3 */:; s:->::; p;}' < kernel/bounds.s; echo ""; echo "#endif"; } > include/generated/.tmp_bounds.h; if [ ! -r include/generated/bounds.h ] || ! cmp -s include/generated/bounds.h include/generated/.tmp_bounds.h; then : '  UPD     include/generated/bounds.h'; mv -f include/generated/.tmp_bounds.h include/generated/bounds.h; fi
set -e; mkdir -p include/generated/; trap "rm -f include/generated/.tmp_asm-offsets.h" EXIT; { 	 echo "#ifndef __ASM_OFFSETS_H__"; echo "#define __ASM_OFFSETS_H__"; echo "/*"; echo " * DO NOT MODIFY."; echo " *"; echo " * This file was generated by Kbuild"; echo " */"; echo ""; sed -ne 	's:^[[:space:]]*\.ascii[[:space:]]*"\(.*\)".*:\1:; /^->/{s:->#\(.*\):/* \1 */:; s:^->\([^ ]*\) [\$#]*\([^ ]*\) \(.*\):#define \1 \2 /* \3 */:; s:->::; p;}' < arch/x86/kernel/asm-offsets.s; echo ""; echo "#endif"; } > include/generated/.tmp_asm-offsets.h; if [ ! -r include/generated/asm-offsets.h ] || ! cmp -s include/generated/asm-offsets.h include/generated/.tmp_asm-offsets.h; then : '  UPD     include/generated/asm-offsets.h'; mv -f include/generated/.tmp_asm-offsets.h include/generated/asm-offsets.h; fi
# CALL    scripts/checksyscalls.sh
  sh scripts/checksyscalls.sh gcc -Wp,-MMD,./.missing-syscalls.d -nostdinc -I./arch/x86/include -I./arch/x86/include/generated  -I./include -I./arch/x86/include/uapi -I./arch/x86/include/generated/uapi -I./include/uapi -I./include/generated/uapi -include ./include/linux/compiler-version.h -include ./include/linux/kconfig.h -include ./include/linux/compiler_types.h -D__KERNEL__ -fmacro-prefix-map=./= -Werror -std=gnu11 -fshort-wchar -funsigned-char -fno-common -fno-PIE -fno-strict-aliasing -mno-sse -mno-mmx -mno-sse2 -mno-3dnow -mno-avx -fcf-protection=branch -fno-jump-tables -m64 -falign-jumps=1 -falign-loops=1 -mno-80387 -mno-fp-ret-in-387 -mpreferred-stack-boundary=3 -mskip-rax-setup -mtune=generic -mno-red-zone -mcmodel=kernel -Wno-sign-compare -fno-asynchronous-unwind-tables -mindirect-branch=thunk-extern -mindirect-branch-register -mindirect-branch-cs-prefix -mfunction-return=thunk-extern -fno-jump-tables -fpatchable-function-entry=16,16 -fno-delete-null-pointer-checks -O2 -fno-allow-store-data-races -fs
make -f ./scripts/Makefile.build obj=. need-builtin=1 need-modorder=1 ./drivers/android/binder.o ./drivers/android/binder.mod
make -f ./scripts/Makefile.build obj=scripts scripts/module.lds
make -f ./scripts/Makefile.build obj=drivers \
need-builtin=1 \
need-modorder=1 \
drivers/android/binder.o drivers/android/binder.mod
make -f ./scripts/Makefile.build obj=drivers/android \
need-builtin=1 \
need-modorder=1 \
drivers/android/binder.o drivers/android/binder.mod
# CC      drivers/android/binder.o
  gcc -Wp,-MMD,drivers/android/.binder.o.d -nostdinc -I./arch/x86/include -I./arch/x86/include/generated  -I./include -I./arch/x86/include/uapi -I./arch/x86/include/generated/uapi -I./include/uapi -I./include/generated/uapi -include ./include/linux/compiler-version.h -include ./include/linux/kconfig.h -include ./include/linux/compiler_types.h -D__KERNEL__ -fmacro-prefix-map=./= -Werror -std=gnu11 -fshort-wchar -funsigned-char -fno-common -fno-PIE -fno-strict-aliasing -mno-sse -mno-mmx -mno-sse2 -mno-3dnow -mno-avx -fcf-protection=branch -fno-jump-tables -m64 -falign-jumps=1 -falign-loops=1 -mno-80387 -mno-fp-ret-in-387 -mpreferred-stack-boundary=3 -mskip-rax-setup -mtune=generic -mno-red-zone -mcmodel=kernel -Wno-sign-compare -fno-asynchronous-unwind-tables -mindirect-branch=thunk-extern -mindirect-branch-register -mindirect-branch-cs-prefix -mfunction-return=thunk-extern -fno-jump-tables -fpatchable-function-entry=16,16 -fno-delete-null-pointer-checks -O2 -fno-allow-store-data-races -fstack-protector-strong 
# cmd_mod drivers/android/binder.mod
  printf '%s
'   binder.o | awk '!x[$0]++ { print("drivers/android/"$0) }' > drivers/android/binder.mod
drivers/android/binder.c:118:30: error: ‘CONFIG_ANDROID_BINDER_DEVICES’ undeclared here (not in a function)
  118 | char *binder_devices_param = CONFIG_ANDROID_BINDER_DEVICES;
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
make[4]: *** [scripts/Makefile.build:229: drivers/android/binder.o] Error 1
make[3]: *** [scripts/Makefile.build:478: drivers/android] Error 2
make[2]: *** [scripts/Makefile.build:478: drivers] Error 2
make[1]: *** [/home/runner/work/linux/linux/linux/Makefile:1936: .] Error 2
make: *** [Makefile:224: __sub-make] Error 2
Error: Process completed with exit code 2.
